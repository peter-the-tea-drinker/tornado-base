<head>
    <title>BrowserID ROCKS!</title>
     
    <script src="{{ static_url('js/jquery-1.5.1.min.js') }}" type="text/javascript"></script>
    <script src="{{ static_url('js/include.js') }}" type='text/javascript'></script>
    <script src="{{ static_url('tbone.0.js') }}" type='text/javascript'></script>
     <script type="text/javascript">


    function REPLACE_BY_ID(response){
        $.each(response,
        function(key,value)
            {
            $("#"+key).html(value);
            });
    }
    
    {% module browserID_login("REPLACE_BY_ID", "REPLACE_BY_ID({'user-data':'Error'})", "REPLACE_BY_ID") %}

    $(document).ready(function()
        {
        // during ajax requests, display a loading spinner.
        $("#loading-message").ajaxStart(function(){$(this).show(1600);});

        // when loading is complete, stop the loading spinner.
        $("#loading-message").ajaxStop(function(){$(this).hide();});

        // loading spinner starts hidden.
        $("#loading-message").hide();
         
        // animate the login button, just for fun.
        // $("#browserid-login").hide();
        $("#browserid-login").mouseenter(function() {
            $(this).attr("src","{{ static_url('sign_in_grey.png') }}");});
        $("#browserid-login").mouseout(function() {
            $(this).attr("src","{{ static_url('sign_in_blue.png') }}");});

        });

    </script>
</head>
<body>
    <div id="logout-container">
     <a id="logout" href="/logout">Pretty log-out button.</a>
    </div>
    Login here: 
    <input type="image" id="browserid-login" src="{{ static_url('sign_in_blue.png') }}">
    </div>
    <p>
    <div id="loading-message">Loading<p><img src="{{ static_url('ajax-loader.gif') }}"/></div> 
 <div id="user-data">{{ user }}</div>
</body>

